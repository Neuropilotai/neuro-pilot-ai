# Nixpacks Configuration for Railway
# Root Directory: inventory-enterprise/backend (Railway setting)
# Frontend files are committed to backend/public/ directory

[phases.setup]
nixPkgs = ["nodejs_20"]

[phases.install]
cmds = ["npm ci --omit=dev"]

[phases.build]
cmds = [
  "npm install --production=false",
  "echo 'âœ… Frontend files already in backend/public'",
  "ls -la public | head -10"
]

[start]
cmd = "node server-v20_1.js"
